#include <stdio.h>
#include "subjects.h"

void collision_counter() {
  /*
  for (int i = 0; i < pow_count; i++) {
        Player* p = &player;
        Item* pow = &item_power[i];

        if ((p->x - 100 < pow->x + pow->width / 2) &&
            (pow->x + pow->width / 2 < p->x + p->width + 100) &&
            (p->y - 100 < pow->y + pow->height / 2) && 
            (pow->y + pow->height / 2 < p->y + p->height + 100)) {
                
                pow->x += pow->spd * cosf(deg_to_rad(pixi.dir));
                pow->y += pow->spd * -sinf(deg_to_rad(pixi.dir));

                printf("i: %d, y = %fx + %f\n", i, k, b);
        } else {
        
            pow->y += pow->y_speed;
            if (pow->y_speed < 3.5) {
                pow->y_speed += 0.1;
            }
            if (pow->y > 768) {
                delete_item_power(i);
            }
        }

        
        if ((p->x < pow->x + pow->width / 2) &&
            (pow->x + pow->width / 2 < p->x + p->width) &&
            (p->y < pow->y + pow->height / 2) &&
            (pow->y + pow->height / 2 < p->y + p->height)) {
                delete_item_power(i);
                i--;
                power+=0.05;
                //printf("%f\n", power);
        }
  }

    if (opacity >= 255) {
        for (int i = 0; i < get_count_bullet(); i++) {
            Bullet* pb = &pixi_bullet[i];

            if ((player.x + 20 - 7.5 <= pb->x  + 10) &&
                (pb->x + 10 <= player.x + 20 - 7.5 + 10) &&
                (player.y + 27 - 7.5 < pb->y + 10) &&
                (pb->y + 10 < player.y + 27 - 7.5 + 10))
            {
                PlaySound(player_death);
                player.hit_points--;
                opacity = 0;
            }
        }
    } else {
        opacity+=4;
    }
 
    */
}
